{namespace InputErrorMessage}

/**
  * @param? cmd
  * @param? error
  */
{template .render}
  {if $cmd and $error}
    {switch $cmd}
      {case 'login'}
        {call .inputErrorMessageLogin data="all" /}
    {/switch}
  {/if}
{/template}

/**
  * @param error
  * @param name
  */
{template .inputErrorMessageLogin}
  {foreach $err in $error.errors}
    {if $err.context and $err.context.param}
      {let $reason: $err.reason /}
      {let $param: $err.context.param /}
      {let $value: $err.context.value /}

      {if $param == $name}
        {switch $reason}
          {case 'invalidParameter'}
            <span>The provided {$name} is not valid.</span>
          {case 'requiredParameter'}
            <span>The {$name} is required.</span>
          {case 'emailNotConfirmed'}
            <span class="email-confirm-error">Please confirm your email.</span>
          {default}
            <span>Some error happened.</span>
        {/switch}
      {/if}
    {/if}
  {/foreach}
{/template}
